webpackJsonp([7],{"2TAB":function(e,t){},Quw4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("4YfN"),n=r.n(o),i=r("E4LH"),s=r("M9A7"),a={data:function(){var e=function(e,t,r){t.length<2||t.length>5?r(new Error("账号长度在2到5之间")):r()},t=function(e,t,r){t.length<5||t.length>16?r(new Error("密码长度在5到16之间")):r()};return{bg:"url("+r("C34Q")+")",type:1,tab:1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},registerForm:{username:"",password:"",mobile:"",code:""},registerRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],mobile:[{required:!0,trigger:"blur",validator:function(e,t,r){console.log(t),Object(i.a)(t)?r():r(new Error("请输入正确的手机号"))}}],code:[{required:!0,trigger:"blur",message:"请输入验证码"}]},infoForm:{name:"",gender:"男",company:"",department:"",no:""},infoRules:{name:[{required:!0,trigger:"blur",validator:e}],company:[{required:!0,trigger:"blur",message:"请输入公司"}],department:[{required:!0,trigger:"blur",message:"请输入部门"}],no:[{required:!0,trigger:"blur",message:"请输入员工编号"}]},loading:!1,time:20,send:!1}},components:{},computed:{tip:function(){return this.send?"正在发送中 "+this.time+" s":"发送验证码"}},mounted:function(){},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:"/"})}).catch(function(){e.loading=!1})})},sendCode:function(){var e=this,t=this.registerForm.mobile;if(Object(i.a)(t)){this.send=!0,Object(s.f)(t);var r=setInterval(function(){e.time>1?e.time--:(clearInterval(r),e.send=!1,e.time=10)},1e3)}else this.$message.error("手机号格式不正确")},next:function(){var e=this;this.$refs.registerForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.type=2,console.log(e.registerForm)})},register:function(){var e=this;this.$refs.infoForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,Object(s.g)(n()({},e.registerForm,e.infoForm)).then(function(t){e.loading=!1,e.$message({message:"提交成功",type:"success"}),e.type=1,e.registerForm={username:"",password:"",mobile:"",code:""},e.infoForm={name:"",gender:"男",company:"",department:"",no:""}}).catch(function(){e.loading=!1})})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login",style:{backgroundImage:e.bg}},[r("div",{staticClass:"container"},[e._m(0),e._v(" "),1==e.type?[r("div",{staticClass:"flex tab"},[r("div",{class:["type",{active:1==e.tab}],on:{click:function(t){e.tab=1}}},[e._v("登录")]),e._v(" "),r("div",{class:["type",{active:2==e.tab}],on:{click:function(t){e.tab=2}}},[e._v("注册")])]),e._v(" "),1==e.tab?r("el-form",{key:"login",ref:"loginForm",staticClass:"form",attrs:{model:e.loginForm,rules:e.loginRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("账号")]),e._v(" "),r("el-input",{attrs:{name:"username",placeholder:"请输入账号名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("密码")]),e._v(" "),r("el-input",{attrs:{type:"password",name:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n                        立即登录\n                    ")])],1)],1):e._e(),e._v(" "),2==e.tab?r("el-form",{key:"register",ref:"registerForm",staticClass:"form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("账号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入账号名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("密码")]),e._v(" "),r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"mobile"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("手机号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"code"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("验证码")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}}),e._v(" "),r("div",{class:["send",{no:e.send}],on:{click:e.sendCode}},[e._v(e._s(e.tip))])],1)]),e._v(" "),r("el-form-item",[r("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.next(t)}}},[e._v("\n                        下一步\n                    ")])],1)],1):e._e()]:[r("div",{staticClass:"tab active"},[e._v("完善个人信息")]),e._v(" "),r("el-form",{key:"info",ref:"infoForm",staticClass:"form",attrs:{model:e.infoForm,rules:e.infoRules}},[r("el-form-item",{attrs:{prop:"name"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("姓名")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入账号名"},model:{value:e.infoForm.name,callback:function(t){e.$set(e.infoForm,"name",t)},expression:"infoForm.name"}})],1)]),e._v(" "),r("el-form-item",[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("性别")]),e._v(" "),r("el-radio-group",{model:{value:e.infoForm.gender,callback:function(t){e.$set(e.infoForm,"gender",t)},expression:"infoForm.gender"}},[r("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"company"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("公司")]),e._v(" "),r("el-input",{attrs:{name:"company",placeholder:"请输入公司"},model:{value:e.infoForm.company,callback:function(t){e.$set(e.infoForm,"company",t)},expression:"infoForm.company"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"department"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("部门")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入部门"},model:{value:e.infoForm.department,callback:function(t){e.$set(e.infoForm,"department",t)},expression:"infoForm.department"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"no"}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"txt"},[e._v("员工编号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入员工编号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.register(t):null}},model:{value:e.infoForm.no,callback:function(t){e.$set(e.infoForm,"no",t)},expression:"infoForm.no"}})],1)]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("\n                        提交\n                    ")])],1)],1)]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:r("7Otq"),alt:""}})])}]};var m=r("C7Lr")(a,l,!1,function(e){r("2TAB"),r("coDf")},"data-v-26b39838",null);t.default=m.exports},coDf:function(e,t){}});
//# sourceMappingURL=7.d63ec1d4dc83ed2a0d74.js.map