{"version":3,"sources":["webpack:///src/views/login.vue","webpack:///./src/views/login.vue?f4ab","webpack:///./src/views/login.vue"],"names":["views_login","data","validateUsername","rule","value","callback","length","Error","validatePass","bg","__webpack_require__","type","tab","loginForm","username","password","loginRules","required","trigger","validator","registerForm","mobile","code","registerRules","console","log","Object","validate","message","infoForm","name","gender","company","department","no","infoRules","loading","time","send","components","computed","tip","this","mounted","methods","handleLogin","_this","$refs","valid","$store","dispatch","then","$router","push","path","catch","sendCode","_this2","login","timer","setInterval","clearInterval","$message","error","next","_this3","register","_this4","extends_default","res","selectortype_template_index_0_src_views_login","render","_vm","_h","$createElement","_c","_self","staticClass","style","backgroundImage","_m","_v","class","active","on","click","$event","key","ref","attrs","model","rules","prop","placeholder","$$v","$set","expression","nativeOn","keyup","_k","keyCode","preventDefault","_e","_s","label","staticRenderFns","src","alt","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.d63ec1d4dc83ed2a0d74.js","sourcesContent":["<template>\r\n    <div class=\"login\" :style=\"{backgroundImage:bg}\">\r\n        <div class=\"container\">\r\n            <div class=\"logo\">\r\n                <img src=\"@/assets/logo.png\" alt=\"\">\r\n            </div>\r\n            <template v-if=\"type == 1\">\r\n                <div class=\"flex tab\" >\r\n                    <div :class=\"['type', {active: tab == 1}]\" @click=\"tab = 1\">登录</div>\r\n                    <div :class=\"['type', {active: tab == 2}]\"  @click=\"tab = 2\">注册</div>\r\n                </div>\r\n                <el-form ref=\"loginForm\" key=\"login\" :model=\"loginForm\" :rules=\"loginRules\" class=\"form\"  v-if=\"tab == 1\">\r\n                    <el-form-item prop=\"username\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">账号</div>\r\n                            <el-input v-model=\"loginForm.username\" name=\"username\" placeholder=\"请输入账号名\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"password\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">密码</div>\r\n                            <el-input type=\"password\" v-model=\"loginForm.password\" name=\"password\" placeholder=\"请输入密码\" @keyup.enter.native=\"handleLogin\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button :loading=\"loading\" @click.native.prevent=\"handleLogin\">\r\n                            立即登录\r\n                        </el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <el-form ref=\"registerForm\" key=\"register\" :model=\"registerForm\" :rules=\"registerRules\" class=\"form\"  v-if=\"tab == 2\">\r\n                    <el-form-item prop=\"username\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">账号</div>\r\n                            <el-input v-model=\"registerForm.username\" placeholder=\"请输入账号名\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"password\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">密码</div>\r\n                            <el-input type=\"password\" v-model=\"registerForm.password\" placeholder=\"请输入密码\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"mobile\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">手机号</div>\r\n                            <el-input v-model=\"registerForm.mobile\" placeholder=\"请输入手机号\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"code\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">验证码</div>\r\n                            <el-input v-model=\"registerForm.code\" placeholder=\"请输入验证码\" @keyup.enter.native=\"next\" />\r\n                            <div :class=\"['send',{no: send}]\" @click=\"sendCode\">{{tip}}</div>\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button @click.native.prevent=\"next\">\r\n                            下一步\r\n                        </el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </template>\r\n            <template v-else>\r\n                <div class=\"tab active\" >完善个人信息</div>\r\n                <el-form ref=\"infoForm\" :model=\"infoForm\" :rules=\"infoRules\" class=\"form\" key=\"info\" >\r\n                    <el-form-item prop=\"name\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">姓名</div>\r\n                            <el-input v-model=\"infoForm.name\" placeholder=\"请输入账号名\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item >\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">性别</div>\r\n                            <el-radio-group v-model=\"infoForm.gender\">\r\n                                <el-radio label=\"男\">男</el-radio>\r\n                                <el-radio label=\"女\">女</el-radio>\r\n                            </el-radio-group>  \r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"company\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">公司</div>\r\n                            <el-input v-model=\"infoForm.company\" name=\"company\" placeholder=\"请输入公司\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"department\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">部门</div>\r\n                            <el-input v-model=\"infoForm.department\" placeholder=\"请输入部门\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"no\">\r\n                        <div class=\"flex\">\r\n                            <div class=\"txt\">员工编号</div>\r\n                            <el-input v-model=\"infoForm.no\" placeholder=\"请输入员工编号\" @keyup.enter.native=\"register\" />\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button :loading=\"loading\" @click.native.prevent=\"register\">\r\n                            提交\r\n                        </el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { validateMobile } from \"@/utils/validate\";\r\nimport { sendCode, sign } from '@/api/login'\r\nexport default {\r\n  data () {\r\n    const validateUsername = (rule, value, callback) => {\r\n      if (value.length < 2 || value.length > 5) {\r\n        callback(new Error(\"账号长度在2到5之间\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePass = (rule, value, callback) => {\r\n      if (value.length < 5 || value.length > 16) {\r\n        callback(new Error(\"密码长度在5到16之间\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatetel = (rule, value, callback) => {\r\n        console.log(value)\r\n      if ( !validateMobile(value)) {\r\n        callback(new Error(\"请输入正确的手机号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n        bg: \"url(\"+require('@/assets/bg.png')+\")\",\r\n        type: 1,\r\n        tab: 1,\r\n        loginForm: {\r\n            username: \"\",\r\n            password: \"\"\r\n        },\r\n        loginRules: {\r\n            username: [{ required: true, trigger: \"blur\", validator: validateUsername }],\r\n            password: [{ required: true, trigger: \"blur\", validator: validatePass }]\r\n        },\r\n        registerForm: {\r\n            username: '',\r\n            password: '',\r\n            mobile: '',\r\n            code: ''\r\n        },\r\n        registerRules: {\r\n            username: [{ required: true, trigger: \"blur\", validator: validateUsername }],\r\n            password: [{ required: true, trigger: \"blur\", validator: validatePass }],\r\n            mobile:   [{ required: true, trigger: \"blur\", validator: validatetel }],\r\n            code:     [{ required: true, trigger: \"blur\", message: '请输入验证码' }]\r\n        },\r\n        infoForm: {\r\n            name: '',\r\n            gender: '男',\r\n            company: '',\r\n            department: '',\r\n            no: ''\r\n        },\r\n        infoRules: {\r\n            name: [{ required: true, trigger: \"blur\", validator: validateUsername }],\r\n            company: [{ required: true, trigger: \"blur\", message: '请输入公司' }],\r\n            department: [{ required: true, trigger: \"blur\", message: '请输入部门' }],\r\n            no: [{ required: true, trigger: \"blur\", message: '请输入员工编号' }]\r\n        },\r\n        loading: false,\r\n        time: 20,\r\n        send: false\r\n    }\r\n  },\r\n\r\n  components: {},\r\n\r\n  computed: {\r\n    tip: function() {\r\n        return this.send ?  '正在发送中 ' + this.time + ' s' : '发送验证码';\r\n    }\r\n  },\r\n\r\n  mounted: function() {},\r\n\r\n  methods: {\r\n    //登录\r\n    handleLogin() {\r\n      this.$refs.loginForm.validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          this.$store.dispatch('Login', this.loginForm).then(() => {\r\n            this.loading = false\r\n            this.$router.push({ path: '/' })\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    //发送验证码\r\n    sendCode() {\r\n        let mobile = this.registerForm.mobile;\r\n        if (!validateMobile(mobile)) {\r\n            this.$message.error('手机号格式不正确');\r\n            return;\r\n        }\r\n        this.send = true;\r\n        sendCode(mobile)\r\n        let timer = setInterval(() => {\r\n            if(this.time > 1){\r\n                this.time--;\r\n            }else {\r\n                clearInterval(timer);\r\n                this.send = false;\r\n                this.time = 10;\r\n            }\r\n        },1000)\r\n\r\n    },\r\n    //下一步\r\n    next() {\r\n        this.$refs.registerForm.validate(valid => {\r\n            if (valid) {\r\n                this.type = 2;\r\n                console.log(this.registerForm)\r\n            } else {\r\n            console.log('error submit!!')\r\n            return false\r\n            }\r\n        })\r\n    },\r\n    //注册\r\n    register() {\r\n        this.$refs.infoForm.validate(valid => {\r\n            if (valid) {\r\n                this.loading = true;\r\n                sign({...this.registerForm, ...this.infoForm}).then(res => {\r\n                    this.loading = false\r\n                    this.$message({\r\n                        message: '提交成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.type = 1;\r\n                    this.registerForm = {\r\n                        username: '',\r\n                        password: '',\r\n                        mobile: '',\r\n                        code: ''\r\n                    }\r\n                    this.infoForm = {\r\n                        name: '',\r\n                        gender: '男',\r\n                        company: '',\r\n                        department: '',\r\n                        no: ''\r\n                    }\r\n                }).catch(() => {\r\n                    this.loading = false\r\n                })\r\n            } else {\r\n            console.log('error submit!!')\r\n            return false\r\n            }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.login {\r\n    height: 100%;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: center; \r\n    .container {\r\n        width: 640px;\r\n        min-height: 460px;\r\n        background-color: #fff;\r\n        position: fixed;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        background: rgba(255,255,255,0.7);\r\n        border: 1px solid #30b8e2;\r\n        border-radius: 6px;\r\n        box-sizing: border-box;\r\n        .logo {\r\n            margin: 70px 0 0;\r\n            img {\r\n                display: block;\r\n                margin: auto;\r\n                width: 200px;\r\n                height: 30px;\r\n            }\r\n        }\r\n        .tab {\r\n            width: 360px;\r\n            margin: 20px auto;\r\n            text-align: center;\r\n            color: #fff;\r\n            line-height: 30px;\r\n            background: #ccc;\r\n            cursor: pointer;\r\n            .type {\r\n                flex: 1;\r\n                &.active {\r\n                    background: var(--active);\r\n                }\r\n            }\r\n            &.active {\r\n                background: var(--active);\r\n            }\r\n        }\r\n        .form {\r\n            width: 360px;\r\n            margin: auto;\r\n            .flex {\r\n                border-bottom: 1px solid var(--active);\r\n                padding: 0 4px;\r\n                align-items: center;\r\n                .txt {\r\n                    width: 100px;\r\n                }\r\n                .send {\r\n                    width: 160px;\r\n                    margin-left: 10px;\r\n                    color: #30b8e2;\r\n                    font-size: 12px;\r\n                    text-align: right;\r\n                    cursor: pointer;\r\n                    &.no {\r\n                        cursor: not-allowed;\r\n                        color: #999;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.login {\r\n    .el-input input {\r\n        background: transparent;\r\n        border: none;\r\n        text-align: right;\r\n        padding: 0;\r\n        color: #333;\r\n    }\r\n    .el-button {\r\n        width: 100%;\r\n        background: var(--active) !important;\r\n        color: #fff !important;\r\n        border: none;\r\n    }\r\n    .el-form-item__error {\r\n        top: 10px;\r\n        left: 100%;\r\n        width: 200px;\r\n    }\r\n    .el-form-item {\r\n        // margin-bottom: 0;\r\n        // line-height: 36px;\r\n        // padding-top: 10px;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\",style:({backgroundImage:_vm.bg})},[_c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),(_vm.type == 1)?[_c('div',{staticClass:\"flex tab\"},[_c('div',{class:['type', {active: _vm.tab == 1}],on:{\"click\":function($event){_vm.tab = 1}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('div',{class:['type', {active: _vm.tab == 2}],on:{\"click\":function($event){_vm.tab = 2}}},[_vm._v(\"注册\")])]),_vm._v(\" \"),(_vm.tab == 1)?_c('el-form',{key:\"login\",ref:\"loginForm\",staticClass:\"form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"账号\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"name\":\"username\",\"placeholder\":\"请输入账号名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_vm._v(\"\\n                        立即登录\\n                    \")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.tab == 2)?_c('el-form',{key:\"register\",ref:\"registerForm\",staticClass:\"form\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"账号\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入账号名\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.registerForm.mobile),callback:function ($$v) {_vm.$set(_vm.registerForm, \"mobile\", $$v)},expression:\"registerForm.mobile\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入验证码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.next($event)}},model:{value:(_vm.registerForm.code),callback:function ($$v) {_vm.$set(_vm.registerForm, \"code\", $$v)},expression:\"registerForm.code\"}}),_vm._v(\" \"),_c('div',{class:['send',{no: _vm.send}],on:{\"click\":_vm.sendCode}},[_vm._v(_vm._s(_vm.tip))])],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.next($event)}}},[_vm._v(\"\\n                        下一步\\n                    \")])],1)],1):_vm._e()]:[_c('div',{staticClass:\"tab active\"},[_vm._v(\"完善个人信息\")]),_vm._v(\" \"),_c('el-form',{key:\"info\",ref:\"infoForm\",staticClass:\"form\",attrs:{\"model\":_vm.infoForm,\"rules\":_vm.infoRules}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入账号名\"},model:{value:(_vm.infoForm.name),callback:function ($$v) {_vm.$set(_vm.infoForm, \"name\", $$v)},expression:\"infoForm.name\"}})],1)]),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"性别\")]),_vm._v(\" \"),_c('el-radio-group',{model:{value:(_vm.infoForm.gender),callback:function ($$v) {_vm.$set(_vm.infoForm, \"gender\", $$v)},expression:\"infoForm.gender\"}},[_c('el-radio',{attrs:{\"label\":\"男\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"女\"}},[_vm._v(\"女\")])],1)],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"company\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"公司\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"name\":\"company\",\"placeholder\":\"请输入公司\"},model:{value:(_vm.infoForm.company),callback:function ($$v) {_vm.$set(_vm.infoForm, \"company\", $$v)},expression:\"infoForm.company\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"department\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"部门\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入部门\"},model:{value:(_vm.infoForm.department),callback:function ($$v) {_vm.$set(_vm.infoForm, \"department\", $$v)},expression:\"infoForm.department\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"no\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"员工编号\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入员工编号\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.register($event)}},model:{value:(_vm.infoForm.no),callback:function ($$v) {_vm.$set(_vm.infoForm, \"no\", $$v)},expression:\"infoForm.no\"}})],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.register($event)}}},[_vm._v(\"\\n                        提交\\n                    \")])],1)],1)]],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-26b39838\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26b39838\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26b39838\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26b39838\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-26b39838\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}